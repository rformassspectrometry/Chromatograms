<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Chromatographic MS Data Backends — coreChromVariables • Chromatograms</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Chromatographic MS Data Backends — coreChromVariables"><meta property="og:description" content="ChromBackend is a virtual class that defines what different backends need
to provide to be used by the Chromatograms package and classes.
The backend should provide access to the chromatographic data which mainly
consists of (paired) intensity and retention time values. Additional
chromatographic metadata such as MS level and precursor and product m/z
should also be provided.
Through their implementation different backends can be either optimized for
minimal memory requirements or performance. Each backend needs to implement
data access methods listed in section Backend functions: below.
And example implementation and more details and descriptions are provided
in the Creating new ChromBackend classes for Chromatograms vignette.
Currently available backends are:
ChromBackendMemory: This backend stores chromatographic data directly
in memory, making it ideal for small datasets or testing. It can be
initialized with a data.frame of chromatographic data via the
chromData parameter and a list of data.frame entries for peaks data
using the peaksData parameter. These data can be accessed with the
chromData() and peaksData() functions.


Filter the peak data based on the provided ranges for the given variables."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">


    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">Chromatograms</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.4.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles

    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/creating-backend-classes.html">Creating new `ChromBackend` classes for Chromatograms</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/RforMassSpectrometry/Chromatograms/" class="external-link">
    <span class="fab fa-github fa-lg"></span>

  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->



      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Chromatographic MS Data Backends</h1>
    <small class="dont-index">Source: <a href="https://github.com/RforMassSpectrometry/Chromatograms/blob/main/R/ChromBackend-functions.R" class="external-link"><code>R/ChromBackend-functions.R</code></a>, <a href="https://github.com/RforMassSpectrometry/Chromatograms/blob/main/R/ChromBackend.R" class="external-link"><code>R/ChromBackend.R</code></a></small>
    <div class="hidden name"><code>ChromBackend.Rd</code></div>
    </div>

    <div class="ref-description">
    <p><code>ChromBackend</code> is a virtual class that defines what different backends need
to provide to be used by the <code>Chromatograms</code> package and classes.</p>
<p>The backend should provide access to the chromatographic data which mainly
consists of (paired) intensity and retention time values. Additional
chromatographic metadata such as MS level and precursor and product m/z
should also be provided.</p>
<p>Through their implementation different backends can be either optimized for
minimal memory requirements or performance. Each backend needs to implement
data access methods listed in section <em>Backend functions:</em> below.</p>
<p>And example implementation and more details and descriptions are provided
in the <em>Creating new <code>ChromBackend</code> classes for Chromatograms</em> vignette.</p>
<p>Currently available backends are:</p><ul><li><p><code>ChromBackendMemory</code>: This backend stores chromatographic data directly
in memory, making it ideal for small datasets or testing. It can be
initialized with a <code>data.frame</code> of chromatographic data via the
<code>chromData</code> parameter and a <code>list</code> of <code>data.frame</code> entries for peaks data
using the <code>peaksData</code> parameter. These data can be accessed with the
<code><a href="chromData.html">chromData()</a></code> and <code><a href="peaksData.html">peaksData()</a></code> functions.</p></li>
</ul><p>Filter the peak data based on the provided ranges for the given variables.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">coreChromVariables</span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">corePeaksVariables</span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S4 method for class 'ChromBackend'</span></span>
<span><span class="va">x</span><span class="op">[</span><span class="va">i</span>, <span class="va">j</span>, <span class="va">...</span>, drop <span class="op">=</span> <span class="cn">FALSE</span><span class="op">]</span></span>
<span></span>
<span><span class="co"># S4 method for class 'ChromBackend'</span></span>
<span><span class="va">x</span><span class="op">$</span><span class="va">name</span></span>
<span></span>
<span><span class="co"># S4 method for class 'ChromBackend'</span></span>
<span><span class="va">x</span><span class="op">$</span><span class="va">name</span> <span class="op">&lt;-</span> <span class="va">value</span></span>
<span></span>
<span><span class="co"># S4 method for class 'ChromBackend'</span></span>
<span><span class="fu">backendMerge</span><span class="op">(</span><span class="va">object</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S4 method for class 'ChromBackend'</span></span>
<span><span class="fu"><a href="chromData.html">chromData</a></span><span class="op">(</span><span class="va">object</span>, columns <span class="op">=</span> <span class="fu"><a href="chromData.html">chromVariables</a></span><span class="op">(</span><span class="va">object</span><span class="op">)</span>, drop <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S4 method for class 'ChromBackend'</span></span>
<span><span class="fu"><a href="chromData.html">chromData</a></span><span class="op">(</span><span class="va">object</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="va">value</span></span>
<span></span>
<span><span class="co"># S4 method for class 'ChromBackend'</span></span>
<span><span class="fu"><a href="peaksData.html">peaksData</a></span><span class="op">(</span><span class="va">object</span>, columns <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"rtime"</span>, <span class="st">"intensity"</span><span class="op">)</span>, drop <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S4 method for class 'ChromBackend'</span></span>
<span><span class="fu"><a href="peaksData.html">peaksData</a></span><span class="op">(</span><span class="va">object</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="va">value</span></span>
<span></span>
<span><span class="co"># S4 method for class 'ChromBackend'</span></span>
<span><span class="va">x</span><span class="op">[[</span><span class="va">i</span>, <span class="va">j</span>, <span class="va">...</span><span class="op">]</span><span class="op">]</span></span>
<span></span>
<span><span class="co"># S4 method for class 'ChromBackend'</span></span>
<span><span class="va">x</span><span class="op">[[</span><span class="va">i</span>, <span class="va">j</span>, <span class="va">...</span><span class="op">]</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="va">value</span></span>
<span></span>
<span><span class="co"># S4 method for class 'ChromBackend'</span></span>
<span><span class="fu">backendBpparam</span><span class="op">(</span><span class="va">object</span>, BPPARAM <span class="op">=</span> <span class="fu">bpparam</span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S4 method for class 'ChromBackend'</span></span>
<span><span class="fu">backendInitialize</span><span class="op">(</span><span class="va">object</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S4 method for class 'ChromBackend'</span></span>
<span><span class="fu">backendParallelFactor</span><span class="op">(</span><span class="va">object</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S4 method for class 'list'</span></span>
<span><span class="fu">backendMerge</span><span class="op">(</span><span class="va">object</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S4 method for class 'ChromBackend'</span></span>
<span><span class="fu"><a href="chromData.html">chromIndex</a></span><span class="op">(</span><span class="va">object</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S4 method for class 'ChromBackend'</span></span>
<span><span class="fu"><a href="chromData.html">chromIndex</a></span><span class="op">(</span><span class="va">object</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="va">value</span></span>
<span></span>
<span><span class="co"># S4 method for class 'ChromBackend'</span></span>
<span><span class="fu"><a href="chromData.html">chromVariables</a></span><span class="op">(</span><span class="va">object</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S4 method for class 'ChromBackend'</span></span>
<span><span class="fu"><a href="chromData.html">collisionEnergy</a></span><span class="op">(</span><span class="va">object</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S4 method for class 'ChromBackend'</span></span>
<span><span class="fu"><a href="chromData.html">collisionEnergy</a></span><span class="op">(</span><span class="va">object</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="va">value</span></span>
<span></span>
<span><span class="co"># S4 method for class 'ChromBackend'</span></span>
<span><span class="fu"><a href="chromData.html">dataOrigin</a></span><span class="op">(</span><span class="va">object</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S4 method for class 'ChromBackend'</span></span>
<span><span class="fu"><a href="chromData.html">dataOrigin</a></span><span class="op">(</span><span class="va">object</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="va">value</span></span>
<span></span>
<span><span class="co"># S4 method for class 'ChromBackend'</span></span>
<span><span class="fu"><a href="chromData.html">dataStorage</a></span><span class="op">(</span><span class="va">object</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S4 method for class 'ChromBackend'</span></span>
<span><span class="fu"><a href="chromData.html">dataStorage</a></span><span class="op">(</span><span class="va">object</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="va">value</span></span>
<span></span>
<span><span class="co"># S4 method for class 'ChromBackend'</span></span>
<span><span class="fu">intensity</span><span class="op">(</span><span class="va">object</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S4 method for class 'ChromBackend'</span></span>
<span><span class="fu">intensity</span><span class="op">(</span><span class="va">object</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="va">value</span></span>
<span></span>
<span><span class="co"># S4 method for class 'ChromBackend'</span></span>
<span><span class="fu">isEmpty</span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S4 method for class 'ChromBackend'</span></span>
<span><span class="fu">isReadOnly</span><span class="op">(</span><span class="va">object</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S4 method for class 'ChromBackend'</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S4 method for class 'ChromBackend'</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/lengths.html" class="external-link">lengths</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S4 method for class 'ChromBackend'</span></span>
<span><span class="fu"><a href="chromData.html">msLevel</a></span><span class="op">(</span><span class="va">object</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S4 method for class 'ChromBackend'</span></span>
<span><span class="fu"><a href="chromData.html">msLevel</a></span><span class="op">(</span><span class="va">object</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="va">value</span></span>
<span></span>
<span><span class="co"># S4 method for class 'ChromBackend'</span></span>
<span><span class="fu"><a href="chromData.html">mz</a></span><span class="op">(</span><span class="va">object</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S4 method for class 'ChromBackend'</span></span>
<span><span class="fu"><a href="chromData.html">mz</a></span><span class="op">(</span><span class="va">object</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="va">value</span></span>
<span></span>
<span><span class="co"># S4 method for class 'ChromBackend'</span></span>
<span><span class="fu"><a href="chromData.html">mzMax</a></span><span class="op">(</span><span class="va">object</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S4 method for class 'ChromBackend'</span></span>
<span><span class="fu"><a href="chromData.html">mzMax</a></span><span class="op">(</span><span class="va">object</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="va">value</span></span>
<span></span>
<span><span class="co"># S4 method for class 'ChromBackend'</span></span>
<span><span class="fu"><a href="chromData.html">mzMin</a></span><span class="op">(</span><span class="va">object</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S4 method for class 'ChromBackend'</span></span>
<span><span class="fu"><a href="chromData.html">mzMin</a></span><span class="op">(</span><span class="va">object</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="va">value</span></span>
<span></span>
<span><span class="co"># S4 method for class 'ChromBackend'</span></span>
<span><span class="fu"><a href="peaksData.html">peaksVariables</a></span><span class="op">(</span><span class="va">object</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S4 method for class 'ChromBackend'</span></span>
<span><span class="fu"><a href="chromData.html">precursorMz</a></span><span class="op">(</span><span class="va">object</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S4 method for class 'ChromBackend'</span></span>
<span><span class="fu"><a href="chromData.html">precursorMz</a></span><span class="op">(</span><span class="va">object</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="va">value</span></span>
<span></span>
<span><span class="co"># S4 method for class 'ChromBackend'</span></span>
<span><span class="fu"><a href="chromData.html">precursorMzMax</a></span><span class="op">(</span><span class="va">object</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S4 method for class 'ChromBackend'</span></span>
<span><span class="fu"><a href="chromData.html">precursorMzMax</a></span><span class="op">(</span><span class="va">object</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="va">value</span></span>
<span></span>
<span><span class="co"># S4 method for class 'ChromBackend'</span></span>
<span><span class="fu"><a href="chromData.html">precursorMzMin</a></span><span class="op">(</span><span class="va">object</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S4 method for class 'ChromBackend'</span></span>
<span><span class="fu"><a href="chromData.html">precursorMzMin</a></span><span class="op">(</span><span class="va">object</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="va">value</span></span>
<span></span>
<span><span class="co"># S4 method for class 'ChromBackend'</span></span>
<span><span class="fu"><a href="chromData.html">productMz</a></span><span class="op">(</span><span class="va">object</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S4 method for class 'ChromBackend'</span></span>
<span><span class="fu"><a href="chromData.html">productMz</a></span><span class="op">(</span><span class="va">object</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="va">value</span></span>
<span></span>
<span><span class="co"># S4 method for class 'ChromBackend'</span></span>
<span><span class="fu"><a href="chromData.html">productMzMax</a></span><span class="op">(</span><span class="va">object</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S4 method for class 'ChromBackend'</span></span>
<span><span class="fu"><a href="chromData.html">productMzMax</a></span><span class="op">(</span><span class="va">object</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="va">value</span></span>
<span></span>
<span><span class="co"># S4 method for class 'ChromBackend'</span></span>
<span><span class="fu"><a href="chromData.html">productMzMin</a></span><span class="op">(</span><span class="va">object</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S4 method for class 'ChromBackend'</span></span>
<span><span class="fu"><a href="chromData.html">productMzMin</a></span><span class="op">(</span><span class="va">object</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="va">value</span></span>
<span></span>
<span><span class="co"># S4 method for class 'ChromBackend'</span></span>
<span><span class="fu"><a href="hidden_aliases.html">reset</a></span><span class="op">(</span><span class="va">object</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S4 method for class 'ChromBackend'</span></span>
<span><span class="fu">rtime</span><span class="op">(</span><span class="va">object</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S4 method for class 'ChromBackend'</span></span>
<span><span class="fu">rtime</span><span class="op">(</span><span class="va">object</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="va">value</span></span>
<span></span>
<span><span class="co"># S4 method for class 'ChromBackend,ANY'</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/split.html" class="external-link">split</a></span><span class="op">(</span><span class="va">x</span>, <span class="va">f</span>, drop <span class="op">=</span> <span class="cn">FALSE</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S4 method for class 'ChromBackend'</span></span>
<span><span class="fu"><a href="chromData.html">filterChromData</a></span><span class="op">(</span></span>
<span>  <span class="va">object</span>,</span>
<span>  variables <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">character</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  ranges <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">numeric</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  match <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"any"</span>, <span class="st">"all"</span><span class="op">)</span>,</span>
<span>  keep <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S4 method for class 'ChromBackend'</span></span>
<span><span class="fu"><a href="peaksData.html">filterPeaksData</a></span><span class="op">(</span></span>
<span>  <span class="va">object</span>,</span>
<span>  variables <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">character</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  ranges <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">numeric</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  match <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"any"</span>, <span class="st">"all"</span><span class="op">)</span>,</span>
<span>  keep <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>


<dl><dt id="arg-x">x<a class="anchor" aria-label="anchor" href="#arg-x"></a></dt>
<dd><p>Object extending <code>ChromBackend</code>.</p></dd>


<dt id="arg-i">i<a class="anchor" aria-label="anchor" href="#arg-i"></a></dt>
<dd><p>For <code>[</code>: <code>integer</code>, <code>logical</code> or <code>character</code> to subset the object.</p></dd>


<dt id="arg-j">j<a class="anchor" aria-label="anchor" href="#arg-j"></a></dt>
<dd><p>For <code>[</code> and <code>[[</code>: ignored.</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>Additional arguments.</p></dd>


<dt id="arg-drop">drop<a class="anchor" aria-label="anchor" href="#arg-drop"></a></dt>
<dd><p>For <code><a href="chromData.html">chromData()</a></code> and <code><a href="peaksData.html">peaksData()</a></code>: <code>logical(1)</code> default to
<code>FALSE</code>. If <code>TRUE</code>, and one column is called by the user, the method should
return a vector (or list of vector for <code><a href="peaksData.html">peaksData()</a></code>) of the single column
requested.</p></dd>


<dt id="arg-name">name<a class="anchor" aria-label="anchor" href="#arg-name"></a></dt>
<dd><p>For <code>$</code> and <code>$&lt;-</code>: the name of the chromatogram variable to
return or set.</p></dd>


<dt id="arg-value">value<a class="anchor" aria-label="anchor" href="#arg-value"></a></dt>
<dd><p>Replacement value for <code>&lt;-</code> methods. See individual
method description or expected data type.</p></dd>


<dt id="arg-object">object<a class="anchor" aria-label="anchor" href="#arg-object"></a></dt>
<dd><p>Object extending <code>ChromBackend</code>.</p></dd>


<dt id="arg-columns">columns<a class="anchor" aria-label="anchor" href="#arg-columns"></a></dt>
<dd><p>For <code><a href="chromData.html">chromData()</a></code> accessor: optional <code>character</code> with column
names (chromatogram variables) that should be included in the
returned <code>data.frame</code>. By default, all columns are returned.</p></dd>


<dt id="arg-bpparam">BPPARAM<a class="anchor" aria-label="anchor" href="#arg-bpparam"></a></dt>
<dd><p>Parallel setup configuration. See <code><a href="https://rdrr.io/pkg/BiocParallel/man/register.html" class="external-link">BiocParallel::bpparam()</a></code>
for more information.</p></dd>


<dt id="arg-f">f<a class="anchor" aria-label="anchor" href="#arg-f"></a></dt>
<dd><p><code>factor</code> defining the grouping to split <code>x</code>. See <code><a href="https://rdrr.io/r/base/split.html" class="external-link">split()</a></code>.</p></dd>


<dt id="arg-variables">variables<a class="anchor" aria-label="anchor" href="#arg-variables"></a></dt>
<dd><p>For <code><a href="chromData.html">filterChromData()</a></code>: <code>character</code> vector with the names
of the chromatogram variables to filter for. The list of available
chromatogram variables can be obtained with <code><a href="chromData.html">chromVariables()</a></code>.</p></dd>


<dt id="arg-ranges">ranges<a class="anchor" aria-label="anchor" href="#arg-ranges"></a></dt>
<dd><p>For <code><a href="chromData.html">filterChromData()</a></code> : a <code>numeric</code>
vector of paired values (upper and lower boundary) that define the
ranges to filter the <code>object</code>. These paired values need to be in the
same order as the <code>variables</code> parameter (see below).</p></dd>


<dt id="arg-match">match<a class="anchor" aria-label="anchor" href="#arg-match"></a></dt>
<dd><p>For <code><a href="chromData.html">filterChromData()</a></code> : <code>character(1) </code>
defining whether the condition has to match for all provided
<code>ranges</code> (<code>match = "all"</code>; the default), or for any of them
(<code>match = "any"</code>) for chromatogram data to be retained.</p></dd>


<dt id="arg-keep">keep<a class="anchor" aria-label="anchor" href="#arg-keep"></a></dt>
<dd><p>For <code><a href="chromData.html">filterChromData()</a></code>: <code>logical(1)</code>
defining whether to keep (<code>keep = TRUE</code>) or remove (<code>keep = FALSE</code>)
the chromatogram data that match the condition.</p></dd>

</dl></div>
    <div id="note">
    <h2>Note</h2>
    <p>This function replaces the peaksData() of the input object. Therefore
backend with <code>readOnly == TRUE</code> (i.e. ChromBackendmzR) will need to have a
carefully implemented <code>peaksData(object) &lt;-</code> method.
First thought are to implement a way  to "cache" the results in a slot of
the object (maybe an actual <code>@peaksData</code> slot or  a <code>cacheData</code> slot).</p>
<p>The important things to be aware of are:</p><ul><li><p>This slot should only be used temporarily as to not overload the memory.</p></li>
<li><p>Maybe inspiring on the <code>MsBackendCached</code> class and method.</p></li>
<li><p>E.g. not storing the data but some sort of indices ?</p></li>
<li><p>Storing the data in a  temporary file and reading it back when needed ?</p></li>
</ul></div>
    <div id="core-chromatogram-variables">
    <h2>Core chromatogram variables</h2>



<p>The <em>core</em> chromatogram variables are variables (metadata) that can/should
be provided by a backend. For each of these variables a value needs to be
returned, if none is defined, a missing value (of the correct data type)
should be returned. The names of the chromatogram variables in your current
chromatogram object are returned with the <code><a href="chromData.html">chromVariables()</a></code> function.</p>
<p>For each core chromatogram variable a dedicated access method exists. In
contrast to the peaks data described below, a single value should be
returned for each chromatogram.</p>
<p>The <code>coreChromVariables()</code> function returns the core chromatogram variables
along with their expected (defined) data type.</p>
<p>The core chromatogram variables (in alphabetical order) are:</p><ul><li><p><code>chromIndex</code>: an <code>integer</code> with the index of the chromatogram in the
original source file (e.g. <em>mzML</em> file).</p></li>
<li><p><code>collisionEnergy</code>: for SRM data, <code>numeric</code> with the collision energy of
the precursor.</p></li>
<li><p><code>dataOrigin</code>: optional <code>character</code> with the origin of a chromatogram.</p></li>
<li><p><code>dataStorage</code>: <code>character</code> defining where the data is (currently) stored.</p></li>
<li><p><code>msLevel</code>: <code>integer</code> defining the MS level of the data.</p></li>
<li><p><code>mz</code>: optional <code>numeric</code> with the (target) m/z value for the
chromatographic data.</p></li>
<li><p><code>mzMin</code>: optional <code>numeric</code> with the lower m/z value of the m/z range in
case the data (e.g. an extracted ion chromatogram EIC) was extracted from
a <code>Spectra</code> object.</p></li>
<li><p><code>mzMax</code>: optional <code>numeric</code> with the upper m/z value of the m/z range.</p></li>
<li><p><code>precursorMz</code>: for SRM data, <code>numeric</code> with the target m/z of the
precursor (parent).</p></li>
<li><p><code>precursorMzMin</code>: for SRM data, optional <code>numeric</code> with the lower m/z of
the precursor's isolation window.</p></li>
<li><p><code>precursorMzMax</code>: for SRM data, optional <code>numeric</code> with the upper m/z of
the precursor's isolation window.</p></li>
<li><p><code>productMz</code> for SRM data, <code>numeric</code> with the target m/z of the
product ion.</p></li>
<li><p><code>productMzMin</code>: for SRM data, optional <code>numeric</code> with the lower m/z of
the product's isolation window.</p></li>
<li><p><code>productMzMax</code>: for SRM data, optional <code>numeric</code> with the upper m/z of
the product's isolation window.</p></li>
</ul></div>
    <div id="core-peaks-variables">
    <h2>Core Peaks variables</h2>



<p>Similar to the <em>core</em> chromatogram variables, <em>core</em> peaks variables
represent  metadata that should be provided by a backend. Each of these
variables should return a value, and if undefined, a missing value (with the
appropriate data type) is returned. The number of values for a peaks
variable in a single chromatogram can vary, from none to multiple, and may
differ between chromatograms.</p>
<p>The names of peaks variables in the current chromatogram object can be
obtained with the <code><a href="peaksData.html">peaksVariables()</a></code> function.</p>
<p>Each core peaks variable has a dedicated accessor method.</p>
<p>The <code>corePeaksVariables()</code> function returns the core peaks variables along
with their expected (defined) data type.</p>
<p>The core peaks variables, listed in the required order for <code>peaksData</code>, are:</p><ul><li><p><code>rtime</code>: A <code>numeric</code> vector containing retention time values.</p></li>
<li><p><code>intensity</code>: A <code>numeric</code> vector containing intensity values.</p></li>
</ul><p>They should be provided for each chromatogram in the backend, <strong>in this order</strong>,
No NAs are allowed for the <code>rtime</code> values. These characteristics will be
checked with the <code><a href="hidden_aliases.html">validPeaksData()</a></code> function.</p>
    </div>
    <div id="mandatory-methods">
    <h2>Mandatory methods</h2>



<p>New backend classes <strong>must</strong> extend the base <code>ChromBackend</code> class and
implement the following mandatory methods:</p><ul><li><p><code>backendInitialize()</code>: initialises the backend. This method is
supposed to be called right after creating an instance of the
backend class and should prepare the backend.
Parameters can be defined freely for each backend, depending on what is
needed to initialize the backend.
This method has to ensure to set the chromtogram variable <code>dataStorage</code>
correctly.</p></li>
<li><p><code>backendBpparam()</code>: returns the parallel processing setup supported by
the backend class. This function can be used by any higher
level function to evaluate whether the provided parallel processing
setup (or the default one returned by <code>bpparam()</code>) is supported
by the backend. Backends not supporting parallel processing (e.g.
because they contain a connection to a database that can not be
shared across processes) should extend this method to return only
<code>SerialParam()</code> and hence disable parallel processing for (most)
methods and functions. See also <code>backendParallelFactor()</code> for a
function to provide a preferred splitting of the backend for parallel
processing.</p></li>
<li><p><code>backendParallelFactor()</code>: returns a <code>factor</code> defining an optimal
(preferred) way how the backend can be split for parallel processing
used for all peak data accessor or data manipulation functions.
The default implementation returns a factor of length 0 (<code><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor()</a></code>)
providing thus no default splitting. <code>backendParallelFactor()</code> for
<code>ChromBackendMzR</code> on the other hand returns <code>factor(dataStorage(object))</code>
hence suggesting to split the object by data file.</p></li>
<li><p><code><a href="chromData.html">chromData()</a></code>, <code>chromData&lt;-</code>: gets or sets general chromatogram metadata
(annotation). <code><a href="chromData.html">chromData()</a></code> returns a <code>data.frame</code>, <code>chromData&lt;-</code> expects
a <code>data.frame</code> with the same number of rows as there are chromatograms in
<code>object</code>. Read-only backends might not need to implement the
replacement method <code>chromData&lt;-</code> (unless some internal caching mechanism
could be used). <code><a href="chromData.html">chromData()</a></code> should be implemented with the parameter
<code>drop</code> set to <code>FALSE</code> as default. With <code>drop = FALSE</code> the method should
return a <code>data.frame</code> even if only one column is called. If <code>drop = TRUE</code>
is specified, the output will be a vector of the single column requested.
New backends should be implemented such as if empty, the method returns a
<code>data.frame</code> with 0 rows and the columns defined by <code><a href="chromData.html">chromVariables()</a></code>.
By default, the function <em>should</em> return at minimum the coreChromVariables,
even if NAs.</p></li>
<li><p><code><a href="peaksData.html">peaksData()</a></code>: returns a <code>list</code> of <code>data.frame</code> with the data
(e.g. retention time - intensity pairs) from each chromatogram. The length
of the <code>list</code> is equal to the number of chromatograms in <code>object</code>. For an
empty chromatogram a <code>data.frame</code> with 0 rows and two columns (named
<code>"rtime"</code> and <code>"intensity"</code>) has to be returned. The optional parameter
<code>columns</code>, if supported by the backend allows to define which peak
variables should be returned in each array. As default (minimum) columns
<code>"rtime"</code> and <code>"intensity"</code> have to be provided. <code><a href="peaksData.html">peaksData()</a></code> should be
implemented with the parameter <code>drop</code> set to <code>FALSE</code> as default.  With
<code>drop = FALSE</code> the method should return a <code>data.frame</code> even if only one
column is called. If <code>drop = TRUE</code>  is specified, the output will be a
vector of the single column requested.</p></li>
<li><p><code>peaksData&lt;-</code> replaces the peak data (retention time and intensity values)
of the backend. This method expects a <code>list</code> of two-dimensional arrays
(<code>data.frame</code>) with columns representing the peak variables.
All existing peaks data are expected to be replaced with these new values.
The length of the <code>list</code> has to match the number of chromatogram of <code>object</code>.
Note that only writeable backends need to support this method.</p></li>
<li><p><code>[</code>: subset the backend. Only subsetting by element (<em>row</em>/<code>i</code>) is
allowed. This method should be implemented as to support empty integer.</p></li>
<li><p><code>$</code>, <code>$&lt;-</code>: access or set/add a single chromatogram variable (column) in
the backend.</p></li>
<li><p><code>backendMerge()</code>: merges (combines) <code>ChromBackend</code> objects into a single
instance. All objects to be merged have to be of the same type.</p></li>
</ul></div>
    <div id="optional-methods-with-default-implementations">
    <h2>Optional methods with default implementations</h2>



<p>Additional methods that might be implemented, but for which default
implementations are already present are:</p><ul><li><p><code>[[</code></p></li>
<li><p><code>backendParallelFactor()</code>: returns a <code>factor</code> defining an optimal
(preferred) way how the backend can be split for parallel processing
used for all <em>peak</em> data accessor or data manipulation functions.
The default implementation returns a factor of length 0 (<code><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor()</a></code>)
providing thus no default splitting.</p></li>
<li><p><code><a href="chromData.html">chromIndex()</a></code>: returns an <code>integer</code> vector with the index of the
chromatograms in the original source file.</p></li>
<li><p><code><a href="chromData.html">chromVariables()</a></code>: returns a <code>character</code> vector with the
available chromatogram variables (columns, fields or attributes)
available in <code>object</code>. Variables listed by this function are expected to
be returned (if requested) by the <code><a href="chromData.html">chromData()</a></code> function.</p></li>
<li><p><code><a href="chromData.html">collisionEnergy()</a></code>, <code>collisionEnergy&lt;-</code>: gets or sets the collision energy
for the precursor (for SRM data). <code><a href="chromData.html">collisionEnergy()</a></code> returns a <code>numeric</code>
of length equal to the number of chromatograms in <code>object</code>.</p></li>
<li><p><code><a href="chromData.html">dataOrigin()</a></code>, <code>dataOrigin&lt;-</code>: gets or sets the <em>data origin</em> variable.
<code><a href="chromData.html">dataOrigin()</a></code> returns a <code>character</code> of length equal to the number of
chromatograms, <code>dataOrigin&lt;-</code> expects a <code>character</code> of length equal
<code>length(object)</code>.</p></li>
<li><p><code><a href="chromData.html">dataStorage()</a></code>, <code>dataStorage&lt;-</code>: gets or sets the <em>data storage</em> variable.
<code><a href="chromData.html">dataStorage()</a></code> returns a <code>character</code> of length equal to the number of
chromatograms in <code>object</code>, <code>dataStorage&lt;- </code> expects a <code>character</code> of
length equal <code>length(object)</code>. Note that missing values (<code>NA_character_</code>)
are not supported for <code><a href="chromData.html">dataStorage()</a></code>.</p></li>
<li><p><code><a href="chromData.html">filterChromData()</a></code>: filters any numerical chromatographic data variables
based on the provided numerical <code>ranges</code>. The method should return a
<code>ChromBackend</code> object with the chromatograms that match the condition. This
function will results in an object with less chromatogram than the original.</p></li>
<li><p><code>intensity()</code>: gets the intensity values from the chromatograms. Returns
a <code>list</code> of <code>numeric</code> vectors (intensity values for each
chromatogram). The length of the list is equal to the number of
chromatograms in <code>object</code>.</p></li>
<li><p><code>intensity&lt;-</code>: replaces the intensity values. <code>value</code> has to be a <code>list</code>
of length equal to the number of chromatograms and the number of values
within each list element identical to the number of data pairs in each
chromatogram. Note that just writeable backends need to support this
method.</p></li>
<li><p><code>isReadOnly()</code>: returns a <code>logical(1)</code> whether the backend is <em>read
only</em> or does allow also to write/update data. Defaults to FALSE.</p></li>
<li><p><code>isEmpty()</code>: returns a <code>logical</code> of length equal to the number of
chromatograms with <code>TRUE</code> for chromatograms without any data pairs.</p></li>
<li><p><code><a href="https://rdrr.io/r/base/length.html" class="external-link">length()</a></code>: returns the number of chromatograms in the object.</p></li>
<li><p><code><a href="https://rdrr.io/r/base/lengths.html" class="external-link">lengths()</a></code>: returns the number of data pairs (retention time and intensity
values) per chromatogram.</p></li>
<li><p><code><a href="chromData.html">msLevel()</a></code>: gets the chromatogram's MS level. Returns an <code>integer</code>
vector (of length equal to the number of chromatograms) with the MS
level for each chromatogram (or <code>NA_integer_</code> if not available).</p></li>
<li><p><code><a href="chromData.html">mz()</a></code>,<code>mz&lt;-</code>: gets or sets the m/z value of the chromatograms. <code><a href="chromData.html">mz()</a></code>
returns a <code>numeric</code> of length equal to the number of chromatograms in <code> object</code>, <code>mz&lt;-</code> expects a <code>numeric</code> of length <code>length(object)</code>.</p></li>
<li><p><code><a href="chromData.html">mzMax()</a></code>,<code>mzMax&lt;-</code>: gets or sets the upper m/z of the mass-to-charge
range from which a chromatogram contains signal (e.g. if the chromatogram
was extracted from MS data in spectra format and a m/z range was provided).
<code><a href="chromData.html">mzMax()</a></code> returns a <code>numeric</code> of length equal to the number of
chromatograms in <code>object</code>, <code>mzMax&lt;-</code> expects a <code>numeric</code> of length equal
to the number of chromatograms in <code>object</code>.</p></li>
<li><p><code><a href="chromData.html">mzMin()</a></code>,<code>mzMin&lt;-</code>: gets or sets the lower m/z of the mass-to-charge range
from which a chromatogram contains signal (e.g. if the chromatogram
was extracted from MS data in spectra format and a m/z range was provided).
<code><a href="chromData.html">mzMin()</a></code> returns a <code>numeric</code> of length equal to the number of
chromatograms in <code>object</code>, <code>mzMin&lt;-</code> expects a <code>numeric</code> of length equal
to the number of chromatograms in <code>object</code>.</p></li>
<li><p><code><a href="peaksData.html">peaksVariables()</a></code>: lists the available data variables for the
chromatograms. Default peak variables are <code>"rtime"</code> and <code>"intensity"</code>
(which all backends need to support and provide), but some backends
might provide additional variables.
Variables listed by this function are expected to be returned (if
requested) by the <code><a href="peaksData.html">peaksData()</a></code> function.</p></li>
<li><p><code><a href="chromData.html">precursorMz()</a></code>,<code>precursorMz&lt;-</code>: gets or sets the (target) m/z of the
precursor (for SRM data). <code><a href="chromData.html">precursorMz()</a></code> returns a <code>numeric</code> of length
equal to the number of chromatograms in <code>object</code>. <code>precursorMz&lt;-</code> expects
a <code>numeric</code> of length equal to the number of chromatograms.</p></li>
<li><p><code><a href="chromData.html">precursorMzMin()</a></code>,<code><a href="chromData.html">precursorMzMax()</a></code>,<code><a href="chromData.html">productMzMin()</a></code>, <code><a href="chromData.html">productMzMax()</a></code>:
gets the lower and upper margin for the precursor or product isolation
windows. These functions might return the value of <code><a href="chromData.html">productMz()</a></code> if the
respective minimal or maximal m/z values are not defined in <code>object</code>.</p></li>
<li><p><code><a href="chromData.html">productMz()</a></code>,<code>productMz&lt;-</code>: gets or sets the (target) m/z of the
product (for SRM data). <code><a href="chromData.html">productMz()</a></code> returns a <code>numeric</code> of length
equal to the number of chromatograms in <code>object</code>. <code>productMz&lt;-</code> expects
a <code>numeric</code> of length equal to the number of chromatograms.</p></li>
<li><p><code>rtime()</code>: gets the retention times from the chromatograms. returns a
<code>NumericList()</code> of <code>numeric</code> vectors (retention times for each
chromatogram). The length of the returned list is equal to the number of
chromatograms in <code>object</code>.</p></li>
<li><p><code>rtime&lt;-</code>: replaces the retention times. <code>value</code> has to be a <code>list</code> (or
<code>NumericList()</code>) of length equal to the number of chromatograms and the
number of values within each list element identical to the number of
data pairs in each chromatogram. Note that just writeable backends support
this method.</p></li>
<li><p><code><a href="https://rdrr.io/r/base/split.html" class="external-link">split()</a></code>: splits the backend into a <code>list</code> of backends (depending on
parameter <code>f</code>). The default method for <code>ChromBackend</code> uses
<code><a href="https://rdrr.io/r/base/split.html" class="external-link">split.default()</a></code>, thus backends extending <code>ChromBackend</code> don't
necessarily need to implement this method.</p></li>
</ul></div>
    <div id="implementation-notes">
    <h2>Implementation notes</h2>



<p>Backends extending <code>ChromBackend</code> <strong>must</strong> implement all of its methods
(listed above). A guide to create new backend classes is provided as a
dedicated vignette. Additional information and an example for a backend
implementation is provided in the respective vignette.</p>
    </div>
    <div id="author">
    <h2>Author</h2>
    <p>Johannes Rainer, Philippine Louail</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Create a simple backend implementation</span></span></span>
<span class="r-in"><span><span class="va">ChromBackendDummy</span> <span class="op">&lt;-</span> <span class="kw">setClass</span><span class="op">(</span><span class="st">"ChromBackendDummy"</span>,</span></span>
<span class="r-in"><span>    contains <span class="op">=</span> <span class="st">"ChromBackend"</span><span class="op">)</span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Laurent Gatto, Johannes Rainer, Philippine Louail.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.9000.</p>
</div>

      </footer></div>






  </body></html>

