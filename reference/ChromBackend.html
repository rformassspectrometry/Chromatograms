<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Chromatographic data backends — ChromBackend • Chromatograms</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Chromatographic data backends — ChromBackend" />
<meta property="og:description" content="ChromBackend is a virtual class that defines what different backends need
to provide to be used by the Chromatograms package and classes.
The backend should provide access to the chromatographic data which mainly
consists of (paired) intensity and retention time values. Additional
chromatographic metadata such as MS level and precursor and product m/z
should also be provided.
The core chromatogram variables are:
chromIndex: an integer with the index of the chromatogram in the
original source file (e.g. mzML file). This is a required variable
for the ChromBackendMzR backend but might not be needed or defined for
other backends.
collisionEnergy: for SRM data, numeric with the collision energy of
the precursor.
dataOrigin: optional character with the origin of a chromatogram.
dataStorage: character defining where the data is (currently) stored.
intensity: NumericList with the intensity values of each chromatogram.
msLevel: integer defining the MS level of the data.
mz: optional numeric with the (target) m/z value for the
chromatographic data.
mzMin: optional numeric with the minimal m/z value in case the data
was extracted from a Spectra object.
mzMax: optional numeric with the maximal m/z value.
precursorMz: for SRM data, numeric with the target m/z of the
precursor (parent).
precursorMzMin: for SRM data, optional numeric with the lower m/z of
the precursor's isolation window.
precursorMzMax: for SRM data, optional numeric with the upper m/z of
the precursor's isolation window.
productMz for SRM data, numeric with the target m/z of the
product ion.
productMzMin: for SRM data, optional numeric with the lower m/z of
the product's isolation window.
productMzMax: for SRM data, optional numeric with the upper m/z of
the product's isolation window.
rtime: NumericList with the retention times of each chromatogram.

" />
<meta name="twitter:card" content="summary" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">Chromatograms</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.2</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/RforMassSpectrometry/Chromatograms">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Chromatographic data backends</h1>
    <small class="dont-index">Source: <a href='https://github.com/RforMassSpectrometry/Chromatograms/blob/master/R/ChromBackend.R'><code>R/ChromBackend.R</code></a>, <a href='https://github.com/RforMassSpectrometry/Chromatograms/blob/master/R/ChromBackendDataFrame-functions.R'><code>R/ChromBackendDataFrame-functions.R</code></a>, <a href='https://github.com/RforMassSpectrometry/Chromatograms/blob/master/R/ChromBackendMzR-functions.R'><code>R/ChromBackendMzR-functions.R</code></a></small>
    <div class="hidden name"><code>ChromBackend.Rd</code></div>
    </div>

    <div class="ref-description">
    <p><code>ChromBackend</code> is a virtual class that defines what different backends need
to provide to be used by the <code>Chromatograms</code> package and classes.</p>
<p>The backend should provide access to the chromatographic data which mainly
consists of (paired) intensity and retention time values. Additional
chromatographic metadata such as MS level and precursor and product m/z
should also be provided.</p>
<p>The core chromatogram variables are:</p><ul>
<li><p><code>chromIndex</code>: an <code>integer</code> with the index of the chromatogram in the
original source file (e.g. <em>mzML</em> file). This is a required variable
for the <code>ChromBackendMzR</code> backend but might not be needed or defined for
other backends.</p></li>
<li><p><code>collisionEnergy</code>: for SRM data, <code>numeric</code> with the collision energy of
the precursor.</p></li>
<li><p><code>dataOrigin</code>: optional <code>character</code> with the origin of a chromatogram.</p></li>
<li><p><code>dataStorage</code>: <code>character</code> defining where the data is (currently) stored.</p></li>
<li><p><code>intensity</code>: <code>NumericList</code> with the intensity values of each chromatogram.</p></li>
<li><p><code>msLevel</code>: <code>integer</code> defining the MS level of the data.</p></li>
<li><p><code>mz</code>: optional <code>numeric</code> with the (target) m/z value for the
chromatographic data.</p></li>
<li><p><code>mzMin</code>: optional <code>numeric</code> with the minimal m/z value in case the data
was extracted from a <code>Spectra</code> object.</p></li>
<li><p><code>mzMax</code>: optional <code>numeric</code> with the maximal m/z value.</p></li>
<li><p><code>precursorMz</code>: for SRM data, <code>numeric</code> with the target m/z of the
precursor (parent).</p></li>
<li><p><code>precursorMzMin</code>: for SRM data, optional <code>numeric</code> with the lower m/z of
the precursor's isolation window.</p></li>
<li><p><code>precursorMzMax</code>: for SRM data, optional <code>numeric</code> with the upper m/z of
the precursor's isolation window.</p></li>
<li><p><code>productMz</code> for SRM data, <code>numeric</code> with the target m/z of the
product ion.</p></li>
<li><p><code>productMzMin</code>: for SRM data, optional <code>numeric</code> with the lower m/z of
the product's isolation window.</p></li>
<li><p><code>productMzMax</code>: for SRM data, optional <code>numeric</code> with the upper m/z of
the product's isolation window.</p></li>
<li><p><code>rtime</code>: <code>NumericList</code> with the retention times of each chromatogram.</p></li>
</ul>

    </div>

    <pre class="usage"># S4 method for ChromBackend
backendInitialize(object, ...)

# S4 method for list
backendMerge(object, ...)

# S4 method for ChromBackend
backendMerge(object, ...)

# S4 method for ChromBackend
chromData(object,
  columns = chromVariables(object))

# S4 method for ChromBackend
chromData(object) <- value

# S4 method for ChromBackend
chromNames(object)

# S4 method for ChromBackend
chromNames(object) <- value

# S4 method for ChromBackend
chromIndex(object,
  columns = chromVariables(object))

# S4 method for ChromBackend
chromVariables(object)

# S4 method for ChromBackend
collisionEnergy(object)

# S4 method for ChromBackend
collisionEnergy(object) <- value

# S4 method for ChromBackend
dataOrigin(object)

# S4 method for ChromBackend
dataOrigin(object) <- value

# S4 method for ChromBackend
dataStorage(object)

# S4 method for ChromBackend
dataStorage(object) <- value

# S4 method for ChromBackend
filterDataOrigin(object, dataOrigin, ...)

# S4 method for ChromBackend
filterDataStorage(object, dataStorage, ...)

# S4 method for ChromBackend
filterMsLevel(object, msLevel)

# S4 method for ChromBackend
filterMz(object, mz, msLevel, ...)

# S4 method for ChromBackend
filterPrecursorMz(object, mz, ...)

# S4 method for ChromBackend
filterProductMz(object, mz, ...)

# S4 method for ChromBackend
intensity(object)

# S4 method for ChromBackend
intensity(object) <- value

# S4 method for ChromBackend
isEmpty(x)

# S4 method for ChromBackend
isReadOnly(object)

# S4 method for ChromBackend
length(x)

# S4 method for ChromBackend
msLevel(object)

# S4 method for ChromBackend
msLevel(object) <- value

# S4 method for ChromBackend
mz(object)

# S4 method for ChromBackend
mz(object) <- value

# S4 method for ChromBackend
mzMax(object)

# S4 method for ChromBackend
mzMax(object) <- value

# S4 method for ChromBackend
mzMin(object)

# S4 method for ChromBackend
mzMin(object) <- value

# S4 method for ChromBackend
as.list(x, ...)

# S4 method for ChromBackend
lengths(x)

# S4 method for ChromBackend
precursorMz(object)

# S4 method for ChromBackend
precursorMz(object) <- value

# S4 method for ChromBackend
precursorMzMin(object)

# S4 method for ChromBackend
precursorMzMin(object) <- value

# S4 method for ChromBackend
precursorMzMax(object)

# S4 method for ChromBackend
precursorMzMax(object) <- value

# S4 method for ChromBackend
productMz(object)

# S4 method for ChromBackend
productMz(object) <- value

# S4 method for ChromBackend
productMzMin(object)

# S4 method for ChromBackend
productMzMin(object) <- value

# S4 method for ChromBackend
productMzMax(object)

# S4 method for ChromBackend
productMzMax(object) <- value

# S4 method for ChromBackend
rtime(object)

# S4 method for ChromBackend
rtime(object) <- value

# S4 method for ChromBackend
selectChromVariables(object,
  chromVariables = chromVariables(object))

# S4 method for ChromBackend,ANY
split(x, f, drop = FALSE, ...)

# S4 method for ChromBackend
[(x, i, j, ..., drop = FALSE)

# S4 method for ChromBackend
$(x, name)

# S4 method for ChromBackend
$(x, name) <- value

ChromBackendDataFrame()

ChromBackendMzR()</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>object</th>
      <td><p>Object extending <code>ChromBackend</code>.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>Additional arguments.</p></td>
    </tr>
    <tr>
      <th>columns</th>
      <td><p>For <code>chromData</code> accessor: optional <code>character</code> with column
names (chromatogram variables) that should be included in the
returned <code>DataFrame</code>. By default, all columns are returned.</p></td>
    </tr>
    <tr>
      <th>value</th>
      <td><p>replacement value for <code>&lt;-</code> methods. See individual
method description or expected data type.</p></td>
    </tr>
    <tr>
      <th>dataOrigin</th>
      <td><p>For <code>filterDataOrigin</code>: <code>character</code> to define which
chromatograms to keep.</p></td>
    </tr>
    <tr>
      <th>dataStorage</th>
      <td><p>For <code>filterDataStorage</code>: <code>character</code> to define which
chromatograms to keep.</p></td>
    </tr>
    <tr>
      <th>msLevel</th>
      <td><p><code>integer</code> defining the MS level of the chromatograms to which
the function should be applied. For <code>filterMsLevel</code>: the MS level to
which <code>object</code> should be subsetted.</p></td>
    </tr>
    <tr>
      <th>mz</th>
      <td><p>For <code>filterMz</code>, <code>filterPrecursorMz</code> and <code>filterProductMz</code>:
<code><a href='https://rdrr.io/r/base/numeric.html'>numeric(2)</a></code> defining the lower and upper m/z of the range to subset
<code>object</code>. Chromatograms with their min m/z (<code>mzMin</code>, <code>precursorMzMin</code>
and <code>productMz</code>, respectively) <strong>or</strong> max m/z within <code>mz</code> are retained
(filtering thus returns chromatograms <strong>overlapping</strong> the specified m/z
range).</p></td>
    </tr>
    <tr>
      <th>x</th>
      <td><p>Object extending <code>ChromBackend</code>.</p></td>
    </tr>
    <tr>
      <th>chromVariables</th>
      <td><p>For <code>selectChromVariables</code>: <code>character</code> with the
names of the chromatogram variables to which the backend should be
subsetted.</p></td>
    </tr>
    <tr>
      <th>f</th>
      <td><p><code>factor</code> defining the grouping to split <code>x</code>. See <code><a href='https://rdrr.io/r/base/split.html'>split()</a></code>.</p></td>
    </tr>
    <tr>
      <th>drop</th>
      <td><p>For <code>[</code>: not considered.</p></td>
    </tr>
    <tr>
      <th>i</th>
      <td><p>For <code>[</code>: <code>integer</code>, <code>logical</code> or <code>character</code> to subset the object.</p></td>
    </tr>
    <tr>
      <th>j</th>
      <td><p>For <code>[</code>: ignored.</p></td>
    </tr>
    <tr>
      <th>name</th>
      <td><p>For <code>$</code> and <code>$&lt;-</code>: the name of the chromatogram variable to
return or set.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="backend-functions"><a class="anchor" href="#backend-functions"></a>Backend functions</h2>

    


<p>New backend classes <strong>must</strong> extend the base <code>ChromBackend</code> class and
<strong>have</strong> to implement the following methods:</p><ul>
<li><p><code>[</code>: subset the backend. Only subsetting by element (<em>row</em>/<code>i</code>) is
allowed</p></li>
<li><p><code>$</code>, <code>$&lt;-</code>: access or set/add a single chromatogram variable (column) in
the backend.</p></li>
<li><p><code>as.list</code>: returns a <code>list</code> of matrices with the data pairs from each
chromatogram. The length of the <code>list</code> is equal to the number of
chromatograms in <code>object</code>. Each element is a two-column <code>numeric</code> <code>matrix</code>
with the retention time (first column) and intensity values (second column)
of one chromatogram. For an empty chromatogram a <code>matrix</code> with 0 rows and
two columns (named <code>"rtime"</code> and <code>"intensity"</code>) has to be returned.</p></li>
<li><p><code>backendInitialize</code>: initialises the backend. This method is
supposed to be called right after creating an instance of the
backend class and should prepare the backend. This method has to ensure
to set the spectra variable <code>dataStorage</code> correctly.</p></li>
<li><p><code>backendMerge</code>: merges (combines) <code>ChromBackend</code> objects into a single
instance. All objects to be merged have to be of the same type.</p></li>
<li><p><code>chromData</code>, <code>chromData&lt;-</code>: gets or sets general chromatogram
metadata (annotation, also called header).  <code>chromData</code> returns
a <code>DataFrame</code>, <code>chromData&lt;-</code> expects a <code>DataFrame</code> with the same number
of rows as there are chromatograms in <code>object</code>.</p></li>
<li><p><code>chromIndex</code>: returns an <code>integer</code> vector with the index of the chromatograms
in the original source file.</p></li>
<li><p><code>chromNames</code>, <code>chromNames&lt;-</code>: gets or sets the names for the chromatograms.</p></li>
<li><p><code>chromVariables</code>: returns a <code>character</code> vector with the available
chromatogram variables available in <code>object</code>.</p></li>
<li><p><code>collisionEnergy</code>, <code>collisionEnergy&lt;-</code>: gets or sets the collision energy
for the precursor (for SRM data). <code>collisionEnergy</code> returns a <code>numeric</code> of
length equal to the number of chromatograms in <code>object</code>.</p></li>
<li><p><code>dataOrigin</code>: gets a <code>character</code> of length equal to the number of
chromatograms in <code>object</code> with the <em>data origin</em> of each. This could e.g.
be the mzML file from which the data was read.</p></li>
<li><p><code>dataStorage</code>: gets a <code>character</code> of length equal to the number of
chromatograms in <code>object</code> with the data storage of each. Note that a
<code>dataStorage</code> of <code>NA_character_</code> is not supported.</p></li>
<li><p><code>filterDataOrigin</code>: filters the object retaining chromatograms matching any
of the provided <code>dataOrigin</code>. Parameter <code>dataOrigin</code> has to be of type
<code>character</code> and needs to match exactly the data origin value of the
chromatograms to subset.
<code>filterDataOrigin</code> should return the data ordered by the provided
<code>dataOrigin</code> parameter, i.e. if <code>dataOrigin = c("2", "1")</code> was provided,
the chromatograms in the resulting object should be ordered accordingly
(first chromatogram from data origin <code>"2"</code> and then from <code>"1"</code>).</p></li>
<li><p><code>filterDataStorage</code>: filters the object retaining chromatograms matching
any of the provided <code>dataStorage</code>. Parameter <code>dataStorage</code> has to be of
type <code>character</code> and needs to match exactly the data storage value of the
chromatograms to subset.
<code>filterDataStorage</code> should return the data ordered by the provided
<code>dataStorage</code> parameter, i.e. if <code>dataStorage = c("2", "1")</code> was provided,
the chromatograms in the resulting object should be ordered accordingly
(first chromatogram from data storage <code>"2"</code> and then from <code>"1"</code>).</p></li>
<li><p><code>filterMsLevel</code>: retains chromatograms of MS level <code>msLevel</code>.</p></li>
<li><p><code>filterMz</code>: retains chromatograms with <code>mzMin</code> or <code>mzMax</code> within the
provided m/z range (i.e. <code>mzMax(object) &gt;= mz[1] &amp; mzMin(object) &lt;= mz[2]</code>
).</p></li>
<li><p><code>filterPrecursorMz</code>: retains chromatograms with a their precursor m/z
window overlapping the provided m/z range <code>mz</code> (i.e.
<code>precursorMzMax(object) &gt;= mz[1] &amp; precursorMzMin(object) &lt;= mz[2]</code>).</p></li>
<li><p><code>filterProductMz</code>: retains chromatograms with a their product m/z
window overlapping the provided m/z range <code>mz</code> (i.e.
<code>productMzMax(object) &gt;= mz[1] &amp; productMzMax(object) &lt;= mz[2]</code>).</p></li>
<li><p><code>intensity</code>: gets the intensity values from the chromatograms. Returns
a <code>NumericList()</code> of <code>numeric</code> vectors (intensity values for each
chromatogram). The length of the list is equal to the number of
chromatograms in <code>object</code>.</p></li>
<li><p><code>intensity&lt;-</code>: replaces the intensity values. <code>value</code> has to be a <code>list</code>
(or <code>NumericList()</code>) of length equal to the number of chromatograms and the
number of values within each list element identical to the number of
data pairs in each chromatogram. Note that just writeable backends
support this method.</p></li>
<li><p><code>isEmpty</code>: returns a <code>logical</code> of length equal to the number of
chromatograms with <code>TRUE</code> for chromatograms without any data pairs.</p></li>
<li><p><code>isReadOnly</code>: returns a <code><a href='https://rdrr.io/r/base/logical.html'>logical(1)</a></code> whether the backend is <em>read
only</em> or does allow also to write/update data.</p></li>
<li><p><code>length</code>: returns the number of chromatograms in the object.</p></li>
<li><p><code>lengths</code>: returns the number of data pairs (rtime-intensity values)
per chromatogram.</p></li>
<li><p><code>msLevel</code>: gets the chromatogram's MS level. Returns an <code>integer</code>
vector (of length equal to the number of chromatograms) with the MS
level for each chromatogram (or <code>NA_integer_</code> if not available).</p></li>
<li><p><code>mz</code>,<code>mz&lt;-</code>: gets or sets the m/z value of the chromatograms. <code>mz</code> returns
a <code>numeric</code> of length equal to the number of chromatograms in <code>object</code>,
<code>mz&lt;-</code> expects a <code>numeric</code> of length <code><a href='https://rdrr.io/r/base/length.html'>length(object)</a></code>.</p></li>
<li><p><code>mzMax</code>,<code>mzMax&lt;-</code>: gets or sets the upper m/z of the mass-to-charge range
from which the chromatogram contains signal (e.g. if the chromatogram
was extracted from MS data in spectra format and a m/z range was provided).
<code>mzMax</code> returns a <code>numeric</code> of length equal to the number of chromatograms
in <code>object</code>, <code>mzMax</code> expects a <code>numeric</code> of length equal to the number
of chromatograms in <code>object</code>.</p></li>
<li><p><code>mzMin</code>,<code>mzMin&lt;-</code>: gets or sets the lower m/z of the mass-to-charge range
from which the chromatogram contains signal (e.g. if the chromatogram
was extracted from MS data in spectra format and a m/z range was provided).
<code>mzMin</code> returns a <code>numeric</code> of length equal to the number of chromatograms
in <code>object</code>, <code>mzMin</code> expects a <code>numeric</code> of length equal to the number
of chromatograms in <code>object</code>.</p></li>
<li><p><code>precursorMz</code>,<code>precursorMz&lt;-</code>: gets or sets the (target) m/z of the
precursor (for SRM data). <code>precursorMz</code> returns a <code>numeric</code> of length
equal to the number of chromatograms in <code>object</code>. <code>precursorMz&lt;-</code> expects
a <code>numeric</code> of length equal to the number of chromatograms.</p></li>
<li><p><code>productMz</code>,<code>productMz&lt;-</code>: gets or sets the (target) m/z of the
product (for SRM data). <code>productMz</code> returns a <code>numeric</code> of length
equal to the number of chromatograms in <code>object</code>. <code>productMz&lt;-</code> expects
a <code>numeric</code> of length equal to the number of chromatograms.</p></li>
<li><p><code>precursorMzMin</code>,<code>precursorMzMax</code>,<code>productMzMin</code>, <code>productMzMax</code>: get
the lower and upper margin for the precursor or product isolation windows.
These functions might return the value of <code>productMz</code> if the respective
minimal or maximal m/z values are not defined in <code>object</code>.</p></li>
<li><p><code>rtime</code>: gets the retention times from the chromatograms. returns a
<code>NumericList()</code> of <code>numeric</code> vectors (retention times for each
chromatogram). The length of the returned list is equal to the number of
chromatograms in <code>object</code>.</p></li>
<li><p><code>rtime&lt;-</code>: replaces the retention times. <code>value</code> has to be a <code>list</code> (or
<code>NumericList()</code>) of length equal to the number of chromatograms and the
number of values within each list element identical to the number of
data pairs in each chromatogram. Note that just writeable backends support
this method.</p></li>
<li><p><code>selectChromVariables</code>: reduce <code>object</code> retaining only specified
chromatogram variables.</p></li>
<li><p><code>split</code>: split the backend into a <code>list</code> of backends (depending on
parameter <code>f</code>). The default method for <code>ChromBackend</code> uses
<code><a href='https://rdrr.io/r/base/split.html'>split.default()</a></code>, thus backends extending <code>ChromBackend</code> don't
necessarily need to implement this method.</p></li>
</ul>

    <h2 class="hasAnchor" id="chrombackenddataframe-in-memory-chromatographic-data-backend"><a class="anchor" href="#chrombackenddataframe-in-memory-chromatographic-data-backend"></a><code>ChromBackendDataFrame</code>, in-memory chromatographic data backend</h2>

    


<p>The <code>ChromBackendDataFrame</code> objects keep all chromatographic data in memory.
To reduce memory requirement, all chromatogram variables with a single
value (e.g. if all are from MS level 1) are internally represented
as an <code>Rle()</code> object that are converted into the original class (e.g.
<code>integer</code>) when the column is accessed.</p>
<p>New objects can be created with the <code>ChromBackendDataFrame()</code>
function. The backend can be subsequently initialized with the
<code>backendInitialize</code> method, taking a <code>DataFrame</code> with the chromatographic
data as parameter. Suggested columns of this <code>DataFrame</code> are:</p><ul>
<li><p><code>"msLevel"</code>: <code>integer</code> with MS levels of the spectra.</p></li>
<li><p><code>"mz"</code>: <code>numeric</code> with (target) m/z of the spectra.</p></li>
<li><p><code>"mzMin"</code>,<code>"mzMax"</code>: <code>numeric</code> with the lower and upper m/z per
chromatogram.</p></li>
<li><p><code>"precursorMz"</code>,<code>"precursorMzMin"</code>,<code>"precursorMzMax"</code>: m/z value (target,
lower and upper limit) of the precursor ion (for SRM data).</p></li>
<li><p><code>"productMz"</code>,<code>"productMzMin"</code>,<code>"productMzMax"</code>: m/z value (target,
lower and upper limit) of the product ion (for SRM data).</p></li>
<li><p><code>"dataOrigin"</code>: <code>character</code> defining the <em>data origin</em>.</p></li>
<li><p><code>"dataStorage"</code>: <code>character</code> indicating grouping of spectra in different
e.g. input files. Note that missing values are not supported.</p></li>
<li><p><code>"precursorMz"</code>: <code>numeric</code> with the m/z value of the precursor.</p></li>
<li><p><code>"rtime"</code>: <code>NumericList()</code> of <code>numeric</code> vectors representing the retention
times for the data values in a chromatogram.</p></li>
<li><p><code>"intensity"</code>: <code>NumericList()</code> of <code>numeric</code> vectors representing the
intensity values for each chromatogram.</p></li>
</ul>

<p>Additional columns are allowed too.</p>
    <h2 class="hasAnchor" id="chrombackendmzr-on-disc-chromatographic-data-backend"><a class="anchor" href="#chrombackendmzr-on-disc-chromatographic-data-backend"></a><code>ChromBackendMzR</code>, on-disc chromatographic data backend</h2>

    


<p>The <code>ChromBackendMzR</code> keeps only a limited amount of data in memory,
while the chromatographic data (retention time and intensity values) are
fetched from the raw files on-demand. This backend uses the <code>mzR</code> package
for data import and retrieval and hence requires that package to be
installed. Also, it can only be used to import and represent data
stored in <em>mzML</em> files.</p>
<p>The <code>ChromBackendMzR</code> backend extends the <code>ChromBackendDataFrame</code> backend
using its <code>DataFrame</code> to keep chromatogram variables (except retention time
and intensity) in memory.</p>
<p>New objects can be created with the <code>ChromBackendMzR()</code> function which
can be subsequently filled with data by calling <code>backendInitialize</code>
passing the file names of the input data files with argument <code>files</code>.</p>
    <h2 class="hasAnchor" id="implementation-notes"><a class="anchor" href="#implementation-notes"></a>Implementation notes</h2>

    


<p>Backends extending <code>ChromBackend</code> <strong>must</strong> implement all of its methods
(listed above). Developers of new <code>ChromBackend</code>s should follow the
<code>ChromBackendDataFrame</code> implementation.</p>
<p>The <code>ChromBackend</code> defines the following slots:</p><ul>
<li><p><code>@readonly</code>: <code><a href='https://rdrr.io/r/base/logical.html'>logical(1)</a></code> whether the backend supports writing/replacing
of m/z or intensity values.</p></li>
</ul>


    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'>
<span class='co'>## In-memory backend</span>

<span class='co'>## Create a simple data set with 3 chromatograms</span>
<span class='no'>df</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span>(<span class='kw'>msLevel</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fl'>1L</span>, <span class='fl'>2L</span>, <span class='fl'>1L</span>),
    <span class='kw'>mz</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fl'>34.5</span>, <span class='fl'>454.2</span>, <span class='fl'>123.4</span>))
<span class='no'>df</span>$<span class='no'>rtime</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(<span class='fl'>1</span>:<span class='fl'>4</span>, <span class='fl'>2</span>:<span class='fl'>3</span>, <span class='fl'>1</span>:<span class='fl'>5</span>)
<span class='no'>df</span>$<span class='no'>intensity</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(<span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fl'>34</span>, <span class='fl'>25</span>, <span class='fl'>5</span>, <span class='fl'>1</span>), <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fl'>5</span>, <span class='fl'>2</span>), <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fl'>1</span>, <span class='fl'>5</span>, <span class='fl'>7</span>, <span class='fl'>4</span>, <span class='fl'>2</span>))

<span class='no'>be</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='hidden_aliases.html'>backendInitialize</a></span>(<span class='fu'>ChromBackendDataFrame</span>(), <span class='no'>df</span>)
<span class='no'>be</span></div><div class='output co'>#&gt; ChromBackendDataFrame with 3 chromatograms
#&gt;     msLevel        mz chromIndex
#&gt;   &lt;integer&gt; &lt;numeric&gt;  &lt;integer&gt;
#&gt; 1         1      34.5         NA
#&gt; 2         2     454.2         NA
#&gt; 3         1     123.4         NA
#&gt;  ... 13 more variables/columns.</div><div class='input'>
<span class='co'>## Access variables</span>
<span class='fu'>msLevel</span>(<span class='no'>be</span>)</div><div class='output co'>#&gt; [1] 1 2 1</div><div class='input'><span class='no'>be</span>$<span class='no'>msLevel</span></div><div class='output co'>#&gt; [1] 1 2 1</div><div class='input'>
<span class='fu'>rtime</span>(<span class='no'>be</span>)</div><div class='output co'>#&gt; NumericList of length 3
#&gt; [[1]] 1 2 3 4
#&gt; [[2]] 2 3
#&gt; [[3]] 1 2 3 4 5</div><div class='input'><span class='no'>be</span>$<span class='no'>rtime</span></div><div class='output co'>#&gt; NumericList of length 3
#&gt; [[1]] 1 2 3 4
#&gt; [[2]] 2 3
#&gt; [[3]] 1 2 3 4 5</div><div class='input'>
<span class='co'>## Available variables</span>
<span class='fu'><a href='hidden_aliases.html'>chromVariables</a></span>(<span class='no'>be</span>)</div><div class='output co'>#&gt;  [1] "chromIndex"      "collisionEnergy" "dataOrigin"      "dataStorage"    
#&gt;  [5] "intensity"       "msLevel"         "mz"              "mzMin"          
#&gt;  [9] "mzMax"           "precursorMz"     "precursorMzMin"  "precursorMzMax" 
#&gt; [13] "productMz"       "productMzMin"    "productMzMax"    "rtime"          </div><div class='input'>
<span class='co'>## Add an additional variable</span>
<span class='no'>be</span>$<span class='no'>new_var</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"a"</span>, <span class='st'>"b"</span>, <span class='st'>"c"</span>)

<span class='fu'><a href='hidden_aliases.html'>chromVariables</a></span>(<span class='no'>be</span>)</div><div class='output co'>#&gt;  [1] "chromIndex"      "collisionEnergy" "dataOrigin"      "dataStorage"    
#&gt;  [5] "intensity"       "msLevel"         "mz"              "mzMin"          
#&gt;  [9] "mzMax"           "precursorMz"     "precursorMzMin"  "precursorMzMax" 
#&gt; [13] "productMz"       "productMzMin"    "productMzMax"    "rtime"          
#&gt; [17] "new_var"        </div><div class='input'><span class='no'>be</span>$<span class='no'>new_var</span></div><div class='output co'>#&gt; [1] "a" "b" "c"</div><div class='input'>
<span class='co'>## Extract the full data</span>
<span class='fu'><a href='hidden_aliases.html'>chromData</a></span>(<span class='no'>be</span>)</div><div class='output co'>#&gt; DataFrame with 3 rows and 17 columns
#&gt;   chromIndex collisionEnergy  dataOrigin dataStorage     intensity   msLevel
#&gt;    &lt;integer&gt;       &lt;numeric&gt; &lt;character&gt; &lt;character&gt; &lt;NumericList&gt; &lt;integer&gt;
#&gt; 1         NA              NA          NA    &lt;memory&gt;   34,25,5,...         1
#&gt; 2         NA              NA          NA    &lt;memory&gt;           5,2         2
#&gt; 3         NA              NA          NA    &lt;memory&gt;     1,5,7,...         1
#&gt;          mz     mzMin     mzMax precursorMz precursorMzMin precursorMzMax
#&gt;   &lt;numeric&gt; &lt;numeric&gt; &lt;numeric&gt;   &lt;numeric&gt;      &lt;numeric&gt;      &lt;numeric&gt;
#&gt; 1      34.5        NA        NA          NA             NA             NA
#&gt; 2     454.2        NA        NA          NA             NA             NA
#&gt; 3     123.4        NA        NA          NA             NA             NA
#&gt;   productMz productMzMin productMzMax         rtime     new_var
#&gt;   &lt;numeric&gt;    &lt;numeric&gt;    &lt;numeric&gt; &lt;NumericList&gt; &lt;character&gt;
#&gt; 1        NA           NA           NA     1,2,3,...           a
#&gt; 2        NA           NA           NA           2,3           b
#&gt; 3        NA           NA           NA     1,2,3,...           c</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      <li><a href="#backend-functions">Backend functions</a></li>
      <li><a href="#chrombackenddataframe-in-memory-chromatographic-data-backend"><code>ChromBackendDataFrame</code>, in-memory chromatographic data backend</a></li>
      <li><a href="#chrombackendmzr-on-disc-chromatographic-data-backend"><code>ChromBackendMzR</code>, on-disc chromatographic data backend</a></li>
      <li><a href="#implementation-notes">Implementation notes</a></li>
      <li><a href="#examples">Examples</a></li>
    </ul>

    <h2>Author</h2>
    <p>Johannes Rainer, Sebastian Gibb, Laurent Gatto</p>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Laurent Gatto, Johannes Rainer, Sebastian Gibb.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


